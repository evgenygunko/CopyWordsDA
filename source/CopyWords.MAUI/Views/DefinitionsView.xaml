<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/maui/global"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CopyWords.MAUI.Views.DefinitionsView">

    <ContentView.Resources>
        <ResourceDictionary>
            <!-- Workaround for a crash on Mac: type IsStringNotNullOrWhiteSpaceConverter cannot be found -->
            <!--<toolkit:IsStringNotNullOrWhiteSpaceConverter x:Key="IsStringNotNullOrWhiteSpaceConverter" />-->
            <MyIsStringNotNullOrWhiteSpaceConverter x:Key="IsStringNotNullOrWhiteSpaceConverter" />
        </ResourceDictionary>
    </ContentView.Resources>

    <!-- Definition -->
    <VerticalStackLayout
            x:DataType="WordViewModel"
            BindingContext="{Binding DefinitionViewModel}">
        <Grid x:DataType="DefinitionViewModel">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"></RowDefinition>
                <RowDefinition Height="auto"></RowDefinition>
                <RowDefinition Height="auto"></RowDefinition>
                <RowDefinition Height="auto"></RowDefinition>
                <RowDefinition Height="auto"></RowDefinition>
            </Grid.RowDefinitions>

            <!-- Headword -->
            <VerticalStackLayout Grid.Row="0" Margin="0,10,0,0" VerticalOptions="Center">
                <Label FontSize="Subtitle" Text="{Binding HeadwordViewModel.Original, FallbackValue='afeitar'}" />
                <Label TextColor="{DynamicResource SecondaryTextColor}" Text="{Binding PartOfSpeech, FallbackValue='transitive verb'}" />
            </VerticalStackLayout>

            <!-- Block with headword and its translations -->
            <HeadwordView Grid.Row="1"
                    IsVisible="{Binding HeadwordViewModel.English, Converter={StaticResource IsStringNotNullOrWhiteSpaceConverter}}"
                    BindingContext="{Binding Path=HeadwordViewModel}"
                    Margin="0,5,0,0" />

            <!-- Endings -->
            <HorizontalStackLayout Grid.Row="2"
                        IsVisible="{Binding Endings, Converter={StaticResource IsStringNotNullOrWhiteSpaceConverter}}">

                <Border
                        BackgroundColor="{DynamicResource GreyBoxColor}"
                        Stroke="{DynamicResource BorderStrokeColor}"
                        StrokeThickness="1"
                        Margin="0,10,0,10">
                    <Label Text="BÃ˜JNING" Margin="3,5,3,3" />
                </Border>
                <Label Text="{Binding Endings, FallbackValue=' -t, -e || -ere, -est'}" Margin="5,0,0,0" VerticalOptions="Center" />
            </HorizontalStackLayout>

            <!-- Horizontal line -->
            <BoxView Grid.Row="3" Style="{StaticResource HorizontalDividerStyle}" Margin="0,10,0,0" />

            <!-- Contexts -->
            <ContextsView Grid.Row="4" Margin="0,15,0,0" />
        </Grid>
    </VerticalStackLayout>

</ContentView>
